---
title: 2.数组
type: docs
---

![bg](../../../cold-alley.png)
{{< callout icon="sparkles" >}}
数组由数据类型相同的一系列元素组成
{{< /callout >}}

1. 数组概念
    - 数组是一种连续的、相同类型元素的集合
    - 每个元素都有 索引（下标），从 0 开始
    - 数组类型决定元素类型，数组大小决定元素个数
2. 数组的定义
    ```text
    类型 数组名[长度];
    ```
    ```c
    int a[5];       // 整型数组，长度5
    char c[10];     // 字符数组，长度10
    double d[3];    // 双精度浮点数组，长度3
    ```
    - 数组长度必须是整数常量或宏定义
    - C 语言数组大小固定，声明后不能改变
3. 数组初始化
    ```c
    int a[5] = {1, 2, 3, 4, 5};   // 指定所有元素
    int b[5] = {1, 2};            // 未指定的元素自动初始化为0
    int c[] = {1, 2, 3};          // 不指定长度，编译器根据元素个数确定
    ```
    - 字符数组
    ```c    
    char str[6] = {'H','e','l','l','o','\0'}; // 手动加 '\0'
    char str2[] = "Hello";                     // 自动加 '\0'
    ```
    > 注意：字符串数组最后要有 '\0' 作为结束符。
4. 访问数组元素
    ``` c
    a[0] = 10;      // 修改第1个元素
    int x = a[2];   // 读取第3个元素    
    ```
    - 下标范围：0 ~ 长度-1
    - 越界访问会导致 未定义行为
5. 多维数组
    - 二维数组
        ```c            
        int mat[3][4];           // 3行4列
        int mat2[2][3] = {       // 初始化
            {1, 2, 3},
            {4, 5, 6}
        };
        ```
    - 访问：mat[0][1] → 第1行第2列
    - 内存中按 行优先顺序（Row-major）存储

    - 三维及更高维
    ``` c    
    int arr[2][3][4]; // 2页3行4列
    ```

6. 数组与指针
    - 数组名可隐式转换为指向首元素的指针
    ``` c    
    int a[5];
    int *p = a;   // 等价于 int *p = &a[0];
    ```
    a[i] 等价于 *(a + i)

7. 常见数组操作  
    遍历数组
    ``` c    
    for(int i = 0; i < 5; i++) {
        printf("%d\n", a[i]);
    }
    ```
    数组长度
    ``` c 
    int len = sizeof(a) / sizeof(a[0]); // 元素个数
    ```

C语言数组是存储相同类型元素的连续内存集合，每个元素通过下标访问，下标从0开始。数组定义时需指定类型和长度，未初始化的局部数组值未定义，静态或全局数组默认初始化为0。数组可一次性初始化全部或部分元素，字符数组用于存储字符串时最后要有 '\0' 结束符。二维及多维数组可表示矩阵或表格，内存按行优先存储。数组名可隐式转为指向首元素的指针，a[i] 等价于 *(a + i)。访问数组必须注意下标范围，越界会导致未定义行为。数组长度可通过 sizeof(a)/sizeof(a[0]) 获取。数组固定大小，类型一致，不能直接赋值，但可与指针结合处理数据。总结而言，数组是C语言中管理和操作同类型数据的基础工具，理解其存储和访问规则是高效编程的前提
